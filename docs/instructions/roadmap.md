# 模型数据思路

在这篇文档中，将介绍模型基本思路与数据处理方法，同时还有一些可能遇到的问题、处理方法与细节。

同时由于数据收集量大，数据收集略显困难，本文同时旨在提供收集数据先后顺序的ToDoList。

风险评价模型分为三部分，分别为：

* 综合风险概率
* 综合生态损失度
* 综合社会经济易损度

模型整体方法是将处理栅格化，统一划分成 $1km \times 1km$ 的栅格，对栅格数据进行分别处理进行计算，因此对于原始数据的具体分辨率有要求，以 $1km \times 1km$ 以下最佳。

> 当原始数据与目标栅格不符时，往往采用插值或取平均等方式进行fitting。

接下来分析三部分的具体要求。

## 综合风险概率

综合风险概率分为 **干旱** 与 **洪水** 风险。分别计算出二者风险之后通过专家赋权的方式进行统一。

### 干旱

干旱风险使用SPEI指数进行评估。计算SPEI指数，通常需要以下几个步骤：

1. 选定蒸散模型。比如Penman-Monteith， Thornthwaite等降水-蒸发模型。
2. 使用上述模型计算 蒸发腾发值(PET)。
3. 将降水数据标准化，得到标准化降水值(SPI)。
4. SPI与PET的差值即为SPEI。
5. 对SPEI离散值进行拟合或插值，得到SPEI序列。

在该步骤中，所需数据为风速、平均气温、降水量。

> 计算所采用时间分辨率和空间分辨率可以自由选择，具体额度待定。

### 洪水

文中使用洪水频率作为单独的影响因子，另降雨量、地形、河流等因素分别计算产生降水因子、地形特征、河流水系三个危险指数。

降水因子划分风险时需要专家进行分级。地形特征进行风险人工划分，河流带来的风险主要由河流等级、高程数据以及缓冲区宽度进行等级划分。

最终风险因子使用了层次分析法进行权重分析，最后得到几个风险因子的权重。

## 生态损失度

该部分计算通过各类景观所占面积进行赋权，分别计算景观损失指数。

景观损失指数由结构指数与脆弱度指数构成。脆弱度指数通过以往研究进行赋权处理，并进行归一化处理。

景观结构指数通过文中的方法进行计算即可。

该部分主要需求为土地利用指数。

## 综合社会经济易损性

模型根据人口密度和GDP密度进行风险计算，根据有关统计特征进行计算。时间分辨率可以根据能收集到的数据上限决定。


## 总结

### 数据收集顺序

按照上文中提到的分析顺序，建议按照一下顺序进行数据收集并进行及时分析：

1. 降水量、气温、风速等气象数据
2. 地形、河流、洪水频率
3. 土地利用数据
4. GDP、人口数据

### 数据收集原则

* 来源应可信
* 时间、空间分辨率尽可能高
* 使用国内来源为佳

### 可能用到的数据处理方法

还需要使用Logistic回归等方法进行数据处理。该部分不做阐述。

#### 数据标准化处理

##### min-max标准化

其也称离散标准化，是对原始数据的线性变换，变换后的数据会映射到 $[0,1]$ 区间内。

$$ x^*=\frac{x-x_{min}}{x_{max}-x_{min}} $$

但是一旦原始数据中有过大的数据，标准化结果会变得不可信。

#### z-score标准化

也称标准差标准化。

$$ x^* = \frac{x-\overline{x}}{\sigma} $$

#### 比例法

对于正向序列 $\{x_n\}$ ：

$$ y_i=\frac{x_i}{\sum_{i=1}^n x_i} $$

得到的数据和为1。

#### 插值

已知未知函数在 $n+1$ 个不同的观测点处的函数值

$$ y_i=f(x_i), i=0,1,...,n $$

求一个近似函数，使得

$$ \Phi(x_i)=y_i, i=0,1,...,n $$

对任意非观测点 $\hat x$ ，估计 $f(\hat x)$，就可以用 $\Phi(\hat x)$ 的值作近似估计值，此过程被称为插值。

在观测区间内的预测被称为内插，否则被称为外推。

